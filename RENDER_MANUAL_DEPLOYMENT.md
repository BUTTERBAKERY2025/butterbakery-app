# دليل النشر اليدوي على Render.com

## خطوات إنشاء حزمة النشر الخاصة بك

بدلاً من تنزيل حزمة جاهزة، سنقوم بإنشاء حزمة من مشروعك الحالي مباشرة. اتبع الخطوات التالية:

### 1. إنشاء حزمة مضغوطة محلية
1. قم بتحميل المشروع الحالي من Replit إلى جهازك:
   - في Replit، انقر على الزر `...` في مستكشف الملفات
   - اختر "Download as zip"
   - سيتم تنزيل كل محتويات المشروع إلى جهازك

### 2. جهز المشروع للنشر
1. قم بفك ضغط الملف الذي قمت بتنزيله
2. تأكد من أن المجلد يحتوي على الملفات الأساسية التالية:
   - `package.json`
   - `start.js` (ملف البدء لبيئة الإنتاج)
   - `server` و `client` و `shared` (مجلدات المشروع الرئيسية)
   - `drizzle.config.ts` (تكوين قاعدة البيانات)
   - `render.yaml` (تكوين خدمة Render)

### 3. إنشاء حساب على Render.com
1. قم بزيارة [Render.com](https://render.com/)
2. انقر على "Sign Up" وأكمل عملية التسجيل

### 4. إنشاء قاعدة بيانات PostgreSQL
1. بعد تسجيل الدخول، انتقل إلى لوحة التحكم
2. انقر على زر "New" في أعلى الصفحة
3. اختر "PostgreSQL"
4. املأ البيانات المطلوبة:
   - اسم قاعدة البيانات: `butterbakery-db`
   - الخطة: اختر الخطة المناسبة لاحتياجاتك
   - المنطقة: اختر المنطقة الأقرب إليك
5. انقر على "Create Database"
6. **هام:** احتفظ بمعلومات الاتصال بقاعدة البيانات (DATABASE_URL) التي ستظهر لك

### 5. إنشاء تطبيق ويب جديد
1. انقر على زر "New" في أعلى الصفحة مرة أخرى
2. اختر "Web Service"
3. في صفحة "Create a new Web Service"، اختر "Upload a .ZIP file"
4. اسحب أو استعرض لاختيار الملف المضغوط الذي تم فك ضغطه وإعادة ضغطه في الخطوة 2
5. انتظر حتى يتم تحميل الملف

### 6. تكوين التطبيق
1. بعد تحميل الملف، قم بتعبئة النموذج كالتالي:
   - **اسم الخدمة**: butterbakery-app
   - **منطقة الاستضافة**: اختر المنطقة الأقرب إليك (نفس منطقة قاعدة البيانات)
   - **نوع الخطة**: اختر الخطة المناسبة لاحتياجاتك
   - **أمر البناء**: `npm install`
   - **أمر البدء**: `node start.js`

2. قم بإضافة المتغيرات البيئية التالية:
   - `DATABASE_URL`: انسخ قيمة معلومات الاتصال بقاعدة البيانات التي حصلت عليها في الخطوة 4
   - `NODE_ENV`: production
   - `PORT`: 10000

3. انقر على "Create Web Service"

### 7. انتظار عملية النشر وإعداد قاعدة البيانات
1. ستبدأ Render.com في عملية نشر التطبيق، وقد تستغرق حوالي 5-10 دقائق
2. يمكنك متابعة تقدم العملية في قسم "Logs"
3. بعد اكتمال النشر، انتقل إلى قسم "Shell" في لوحة تحكم التطبيق
4. قم بتنفيذ الأمر التالي لإنشاء جداول قاعدة البيانات:
   ```
   npm run db:push
   ```
5. انتظر حتى تكتمل عملية إنشاء الجداول

### 8. اختبار التطبيق
1. انقر على عنوان URL الخاص بالتطبيق (عادة يكون في شكل `https://butterbakery-app.onrender.com`)
2. ستظهر صفحة تسجيل الدخول
3. قم بتسجيل الدخول باستخدام بيانات الاعتماد الافتراضية:
   - اسم المستخدم: admin
   - كلمة المرور: admin
4. قم بتغيير كلمة المرور الافتراضية على الفور

## إعدادات متقدمة (اختياري)

### إعداد مجال مخصص
1. انتقل إلى إعدادات التطبيق في Render.com
2. اختر قسم "Custom Domain"
3. اتبع الإرشادات لإضافة مجالك الخاص

### إعداد نسخ احتياطي تلقائي لقاعدة البيانات
1. انتقل إلى إعدادات قاعدة البيانات في Render.com
2. اختر قسم "Backups"
3. قم بتكوين جدول النسخ الاحتياطي المطلوب

### مراقبة أداء التطبيق
1. انتقل إلى قسم "Metrics" في لوحة تحكم التطبيق
2. راقب استخدام الموارد والأداء العام للتطبيق

## استكشاف الأخطاء وإصلاحها

### مشكلات النشر
- **خطأ في عملية البناء**: تحقق من أمر البناء وتأكد من وجود ملف `package.json` في الجذر
- **خطأ في عملية البدء**: تأكد من وجود ملف `start.js` وأنه يحتوي على الكود الصحيح

### مشكلات قاعدة البيانات
- **خطأ في الاتصال بقاعدة البيانات**: تحقق من متغير البيئة `DATABASE_URL`
- **خطأ في إنشاء الجداول**: تأكد من تنفيذ أمر `npm run db:push` بنجاح

### مشكلات المتصفح
- **صفحة بيضاء**: تحقق من سجلات الخطأ في قسم "Logs" في Render.com
- **مشكلات في واجهة المستخدم**: امسح ذاكرة التخزين المؤقت في المتصفح وحاول مرة أخرى