# دليل النشر المباشر على Render.com

## المقدمة

هذا الدليل يشرح كيفية نشر تطبيق ButterBakery-OP مباشرة على منصة Render.com باستخدام خيار تحميل الملف المضغوط. هذه الطريقة أبسط من استخدام GitHub، وتعمل بشكل فعال لنشر تطبيقك بسرعة.

## المتطلبات المسبقة

1. حساب على Render.com
2. ملف مضغوط يحتوي على كود التطبيق الكامل
3. تحميل الملف المضغوط على جهازك

## خطوة 1: تجهيز التطبيق

بما أن تنزيل الملف المضغوط مباشرة من Replit كان يواجه مشاكل، اتبع هذه الخطوات لإنشاء الملف المضغوط يدويًا:

1. في Replit، انقر على الزر `...` في مستكشف الملفات
2. اختر "Download as zip" لتنزيل المشروع كاملاً
3. قم بفك ضغط الملف على جهازك
4. تأكد من أن المجلد يحتوي على:
   - مجلدات `client`, `server`, `shared`, `public`
   - ملفات `package.json`, `start.js`, `drizzle.config.ts`
   - ملفات التكوين الأخرى

## خطوة 2: إنشاء قاعدة بيانات PostgreSQL على Render.com

1. قم بتسجيل الدخول إلى [Render.com](https://render.com/)
2. من لوحة التحكم، انقر على "New" واختر "PostgreSQL"
3. املأ التفاصيل المطلوبة:
   - **اسم**: butterbakery-db
   - **قاعدة البيانات**: butterbakery
   - **المستخدم**: butterbakery_user
   - **المنطقة**: اختر المنطقة الأقرب إليك
   - **الخطة**: اختر الخطة المناسبة لاحتياجاتك
4. انقر على "Create Database"
5. **هام**: احتفظ بعناية برابط الاتصال "Internal Database URL" وكلمة المرور، ستحتاجها لاحقًا

## خطوة 3: إنشاء تطبيق ويب على Render.com

1. من لوحة التحكم، انقر على "New" واختر "Web Service"
2. اختر "Upload a .ZIP file" بدلاً من GitHub
3. اسحب أو استعرض لاختيار الملف المضغوط الذي جهزته
4. انقر على "Continue"

## خطوة 4: تكوين خدمة الويب

1. في صفحة التكوين، أدخل المعلومات التالية:
   - **اسم**: butterbakery-app
   - **منطقة**: اختر نفس منطقة قاعدة البيانات
   - **نوع التنفيذ**: Node
   - **أمر البناء**: `npm install`
   - **أمر البدء**: `node start.js`
   - **الخطة**: اختر الخطة المناسبة لاحتياجاتك

2. أضف المتغيرات البيئية التالية:
   - `DATABASE_URL`: أدخل قيمة "Internal Database URL" من قاعدة البيانات
   - `NODE_ENV`: production
   - `PORT`: 10000

3. انقر على "Create Web Service"

## خطوة 5: انتظار عملية النشر

1. ستبدأ Render.com في عملية بناء ونشر التطبيق
2. انتظر حتى تكتمل العملية، قد يستغرق هذا 5-10 دقائق
3. يمكنك متابعة تقدم العملية في قسم "Logs"

## خطوة 6: تهيئة قاعدة البيانات

بعد اكتمال عملية النشر، ستحتاج إلى إنشاء جداول قاعدة البيانات:

1. انتقل إلى صفحة الخدمة في Render.com
2. اضغط على "Shell" في القائمة العلوية
3. نفذ الأمر التالي لإنشاء جداول قاعدة البيانات:
   ```
   npm run db:push
   ```
4. انتظر حتى يكتمل الأمر بنجاح

## خطوة 7: الوصول إلى التطبيق

1. انقر على رابط URL الخاص بخدمتك (على شكل `https://butterbakery-app.onrender.com`)
2. ستظهر صفحة تسجيل الدخول
3. قم بتسجيل الدخول باستخدام:
   - اسم المستخدم: admin
   - كلمة المرور: admin
4. قم بتغيير كلمة المرور الافتراضية فورًا

## استكشاف الأخطاء وإصلاحها

### مشكلة: فشل عملية البناء
- تحقق من سجلات البناء للحصول على تفاصيل الخطأ
- تأكد من وجود ملف `package.json` في المستوى الأعلى من الملف المضغوط
- تأكد من أن ملف `start.js` موجود ويحتوي على الكود الصحيح

### مشكلة: لا يمكن الاتصال بقاعدة البيانات
- تحقق من صحة متغير البيئة `DATABASE_URL`
- تأكد من أن قاعدة البيانات تعمل وتقبل الاتصالات
- تحقق من سجلات التطبيق بحثًا عن أخطاء قاعدة البيانات

### مشكلة: التطبيق لا يعمل بعد النشر
- تحقق من سجلات التطبيق
- حاول إعادة تشغيل الخدمة
- تأكد من تنفيذ أمر `npm run db:push` بنجاح