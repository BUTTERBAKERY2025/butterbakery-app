# ButterBakery PostgreSQL Database Components

## نظرة عامة
هذا المشروع يحتوي على مكونات قاعدة البيانات والخدمات الخلفية لتطبيق ButterBakery OPS.

## الميزات
- اتصال آمن بقاعدة بيانات PostgreSQL
- نقاط نهاية API للتحقق من حالة قاعدة البيانات
- نظام النسخ الاحتياطي واستعادة البيانات
- توافق مع ESM و CommonJS

## متطلبات النشر على Render.com
1. إنشاء قاعدة بيانات PostgreSQL على Render.com
2. تعيين متغير البيئة `DATABASE_URL` مع رابط الاتصال بقاعدة البيانات
3. نشر الخدمة باستخدام أمر البدء `npm start`

## متغيرات البيئة المطلوبة
- `DATABASE_URL`: رابط اتصال قاعدة بيانات PostgreSQL

## إعداد الخدمة في Render.com
1. إنشاء خدمة ويب جديدة
2. اختيار مستودع GitHub
3. تعيين الإعدادات التالية:
   - **نوع التطبيق**: Node
   - **أمر البناء**: `npm install`
   - **أمر البدء**: `npm start`
4. إضافة متغير البيئة `DATABASE_URL`
5. النشر!

## استكشاف الأخطاء وإصلاحها
- تحقق من سجلات الأحداث في لوحة تحكم Render.com
- استخدم نقطة النهاية `/api/db/status` للتحقق من حالة اتصال قاعدة البيانات
- راجع نقطة النهاية `/health` للتأكد من أن الخدمة تعمل بشكل صحيح
