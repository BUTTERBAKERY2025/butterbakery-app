# تطبيق ButterBakery-OP

نظام إدارة المخابز المتقدم مع لوحة تحكم ذكية ومزايا تحليل مدعومة بالذكاء الاصطناعي.

## المميزات

- إدارة المبيعات والكاشير
- نظام صندوق النقدية
- لوحة تحكم ذكية
- تقارير متقدمة
- نظام المكافآت والنقاط
- واجهة ثنائية اللغة (العربية/الإنجليزية)
- تحليلات ذكية مع توقعات المبيعات
- نظام مكافآت ونقاط للموظفين
- إدارة كاملة لحركات النقدية
- مراقبة شاملة لقاعدة البيانات

## التقنيات المستخدمة

- React مع TypeScript
- قاعدة بيانات PostgreSQL
- Drizzle ORM للتعامل مع قاعدة البيانات
- Drizzle-zod للتحقق من البيانات
- Shadcn UI للواجهة
- Express.js للخادم
- Render.com أو AWS للاستضافة المرنة
- i18n للترجمة والتدويل
- TanStack Query لإدارة حالة البيانات
- PDF Generator لتصدير التقارير

## دليل النشر على Render.com

### طريقة النشر المباشر (بدون GitHub)

1. قم بتشغيل سكريبت تجهيز حزمة النشر:
   ```
   cd deploy
   ./prepare_for_render.sh
   ```
   هذا سينشئ ملف `deploy/bundle.zip` جاهز للنشر

2. قم بتنزيل ملف `bundle.zip` من Replit
3. قم بزيارة لوحة تحكم Render.com وتسجيل الدخول
4. انقر على "New" ثم اختر "Web Service"
5. اختر "Upload .zip file" وحدد ملف bundle.zip الذي قمت بتنزيله
6. أدخل البيانات التالية:
   - Name: butter-bakery (أو أي اسم تفضله)
   - Environment: Node
   - Build Command: npm install
   - Start Command: npm start
7. انقر على "Advanced" وقم بتعيين المتغيرات البيئية التالية:
   - NODE_ENV: production
   - PORT: 5000
8. قم بإنشاء قاعدة بيانات PostgreSQL جديدة من خلال "New" ثم "PostgreSQL"
9. أضف متغير بيئي DATABASE_URL وقم بتعيينه لرابط الاتصال بقاعدة البيانات
10. انقر على "Create Web Service" لبدء عملية النشر

### طريقة النشر باستخدام render.yaml (مفضلة)

1. قم بتحميل المشروع على مستودع GitHub الخاص بك
2. على لوحة تحكم Render.com، انقر على "New" ثم "Blueprint"
3. حدد مستودع GitHub الخاص بالمشروع
4. سيتم اكتشاف ملف render.yaml تلقائيًا وإعداد الخدمات المطلوبة
5. انقر على "Apply" للبدء في عملية النشر

### النسخ الاحتياطي والترحيل

- نوصي بجدولة نسخ احتياطي تلقائي لقاعدة البيانات من خلال خيار "Backups" في إعدادات قاعدة البيانات على Render.com
- لترحيل البيانات، استخدم أمر `npm run db:push` لدفع تغييرات المخطط إلى قاعدة البيانات الجديدة

## الصيانة والتحديث

- يمكن التحكم في البيئة وإعادة تشغيل الخدمة من لوحة تحكم Render.com
- لتحديث التطبيق، قم بتحديث الكود في مستودع GitHub وسيتم إعادة النشر تلقائيًا (إذا كان autoDeploy مفعلاً)
- يمكن مراقبة السجلات وأداء التطبيق من خلال قسم "Logs" في لوحة تحكم Render.com

## مقارنة بين منصات الاستضافة

### Render.com (بديل سريع وسهل)

**مميزات:**
- سهولة النشر: واجهة بسيطة ومباشرة للنشر باستخدام ملف ZIP أو GitHub
- إعداد سريع: يمكن نشر التطبيق خلال دقائق
- إعداد قاعدة بيانات PostgreSQL تلقائي مع النسخ الاحتياطي
- توفر خطة مجانية للمشاريع الصغيرة والتجريبية
- نطاق فرعي مجاني (yourapplication.onrender.com)
- مراقبة بسيطة لأداء التطبيق والسجلات

**عيوب:**
- خيارات تخصيص محدودة مقارنة بـ AWS
- قد تكون أداء الخطط المجانية أبطأ بسبب "التوقف المؤقت" بعد فترة خمول
- خيارات التوسع محدودة للتطبيقات ذات الحجم الكبير
- أقل مرونة في إعداد الشبكات والأمان

### AWS Elastic Beanstalk (للبيئة الإنتاجية الاحترافية)

**مميزات:**
- نشر متعدد البيئات (Development, Staging, Production)
- خيارات توسع أفضل للتعامل مع الأحمال الكبيرة
- مراقبة متقدمة عبر CloudWatch مع التنبيهات التلقائية
- نشر Blue/Green للتحديثات بدون توقف
- تكامل أفضل مع خدمات AWS الأخرى (S3, CloudFront, RDS)
- دعم عالي الجهوزية (High Availability) مع النشر في مناطق متعددة
- خيارات أمان متقدمة (VPC, WAF, Security Groups)

**عيوب:**
- منحنى تعلم أكثر تعقيدًا
- تكلفة أعلى خاصة عند استخدام العديد من الخدمات
- يتطلب إعداد أكثر تفصيلاً وخبرة في AWS
- لا توجد خطة مجانية سوى في فترة المستوى المجاني (12 شهر)

### تحديد الخيار المناسب

- **للتطوير والاختبار:** Render.com مثالي بسبب سهولة الإعداد والخطة المجانية
- **للإنتاج المتوسط:** Render.com مع الخطة المدفوعة توفر أداء جيد بتكلفة معقولة
- **للاستخدام الحرج والتطبيقات الكبيرة:** AWS Elastic Beanstalk يوفر المرونة والموثوقية اللازمة

> **ملاحظة:** يتوفر في المشروع الإعدادات اللازمة لكلا الخيارين. استخدم دليل `RENDER_DEPLOYMENT_GUIDE.md` للنشر على Render.com، أو دليل `AWS_DEPLOYMENT_GUIDE.md` للنشر على AWS.

## تم التحديث بتاريخ: 22 مارس 2025
